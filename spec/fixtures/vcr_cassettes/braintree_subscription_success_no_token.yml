---
http_interactions:
- request:
    method: post
    uri: https://<BRAINTREE_PUBLIC_KEY>:<BRAINTREE_PRIVATE_KEY>@api.sandbox.braintreegateway.com/merchants/<BRAINTREE_MERCHANT_ID>/customers
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <customer>
          <email>foo+123@example.com</email>
          <first-name nil="true"/>
          <last-name nil="true"/>
          <payment-method-nonce>fake-valid-visa-nonce</payment-method-nonce>
        </customer>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Content-Type:
      - application/xml
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Wed, 02 Dec 2015 15:15:03 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - close
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      X-Ua-Compatible:
      - IE=Edge,chrome=1
      Etag:
      - '"eb1bc5259e0ad681977c6c10ebe517d9"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 24f7020729a69e781b899d63d986e0f9
      X-Runtime:
      - '0.385128'
      X-Frame-Options:
      - SAMEORIGIN
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAPcKX1YAA6xVyXLbOBC9+ytUvE7BXGTZUoqC5zTHuUw8h7mkmkRLRAkE
        GAC0pXz9ABQ3LVSUcqp0EF6/Bpq9vfR1X4rZO2rDlVwH8WMUzFDminG5XQdv
        X/8iy+CVPqR5bawqUdOH2SzljD5Hz/HLKnlJQ3fwmLPlBUhLvFFus4/iYLNC
        /1j9SHQajq2eveHaWCKhxJnkYh1YXWMQNiYBU5ZclRXIwwWOJXBBN0r9ESfz
        P3EPZSXw0bHT8GjypKpQ8vLKDewvsA/MDLdXntcIFhkBO7OHCtcBc0fLSwxo
        EsULEickSr7Giy/uF83/S8PBofGvK/Zr/oPD8f2mBGTDUTDTh8S4JTloZtpL
        QWs4BN56aj8iDsu4EK64BBjTaEyHt2X93hW0xbq6k5Oaj9GBO13UljBZ2u6x
        6wVurcZqRNvFPUHCvUXJfNJu0oTKQXA79ZTGrRuHCWOljAVB3IwgXT3FkcvH
        GBp/Ti2tPjQwAVEVkEx++Dlzfg9T1q4GPP8J9VbCP9fS7S2fbOzmjnCiLV27
        SvoUxcly6Tmyx31PE/8c/ZcbcJH15zGjUIK5Np1Kge84v5o4CPomd1J9SHfT
        gA20YyrVhnBjapA5Uk+8RHuPz2f2/tkbmL6vrWtd+vbPiNmjHZ9hxu3wxcfj
        YNxALbq4M6UEggyoz5ynNsaBXGtXFeIGphY+/tGl55bOBfcV1008pFTSFjRO
        3KI+B6+wDwjaZS+JTugNesJGdh77BoTB1msUSYEgbOH6BIewR1hH4yVskdRa
        0MLaynwJQzAGrXnMNHDpt9LWfeAHHLzmhBUcSpT2W4m2UOybUFsVvrsWfazk
        9hXlO9dKesLagGSZ2ruF29/fv+jayQ9DBnI3hHaCdtRmpz7ReLmM07A9dDYX
        ilZi1Nod0BM0VuD66G/lbO3/zmbqzOSaVz7Jp+IyjI9VO5R0lW922XMaHk+d
        rZb8e93sqKxpVvfJ3GmXptHiJVms4myRLRfLp+RlNX9iyRxW2ZxFDJauupOu
        /d2/YeO8oywVMWw30Sy9feShXRjHUbqakWaKx4J7AjQ7LW33G17V6/Pld6HI
        v7ATbqvxbS2+pcR36PBdKnxTg28o8J36e6/63qu9dyvvT3X3t2jDpycgDUfN
        1h/QHYd2og//AwAA//8DAOMLd98fDAAA
    http_version: 
  recorded_at: Wed, 02 Dec 2015 15:18:58 GMT
- request:
    method: post
    uri: https://<BRAINTREE_PUBLIC_KEY>:<BRAINTREE_PRIVATE_KEY>@api.sandbox.braintreegateway.com/merchants/<BRAINTREE_MERCHANT_ID>/subscriptions
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription>
          <payment-method-token>9cfkb6</payment-method-token>
          <plan-id>35wm</plan-id>
          <price>100.0</price>
        </subscription>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Content-Type:
      - application/xml
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Wed, 02 Dec 2015 15:15:04 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - close
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      X-Ua-Compatible:
      - IE=Edge,chrome=1
      Etag:
      - '"39db3940905785a8be09d9b4b6074c3e"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a65359f22f295d6fabec3e5ab61095db
      X-Runtime:
      - '0.505947'
      X-Frame-Options:
      - SAMEORIGIN
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
        hqnyHwAAAP//AwBfmJaFvhwAAA==
    http_version: 
  recorded_at: Wed, 02 Dec 2015 15:18:59 GMT
recorded_with: VCR 3.0.0
